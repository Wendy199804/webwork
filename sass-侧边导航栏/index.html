<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/index.css">
    <title>Document</title>
</head>

<body>
    <div class="div">
        <ul class="ul-wrap" id="ul-wrap"> 
            <li class="li-main"id="cd1">
                <a href="#" >菜单一</a>
                <ul class="ul-in">
                    <li><a href="#">2</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd2"><a href="#" >菜单二</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd3"><a href="#" >菜单三</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd4"><a href="#" >菜单四</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd5"><a href="#" >菜单五</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd6"><a href="#" >菜单六</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd7"><a href="#" >菜单七</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>
                </ul>
            </li>
            <li class="li-main"id="cd8"><a href="#" >菜单八</a>
                <ul class="ul-in">
                    <li><a href="#">1</a></li>
                    <li><a href="#">1</a></li>

                </ul>
            </li>
        </ul>
    </div>
    <script>
        var ulin = document.getElementsByClassName('ul-in');
        var limain = document.getElementsByClassName('li-main');
        var cd1 = document.getElementById('cd1');
        var cd2 = document.getElementById('cd2');
        var cd3 = document.getElementById('cd3');
        var cd4 = document.getElementById('cd4');
        var cd5 = document.getElementById('cd5');
        var cd6 = document.getElementById('cd6');
        var cd7 = document.getElementById('cd7');
        var cd8 = document.getElementById('cd8');
        var ulout = document.getElementById('ul-wrap');
        var ulin_height=[];
        for (var i = 0; i < ulin.length; i++) {
             ulin_height[i]= ulin[i].offsetHeight; //获取每一个子菜单的高度，存入 ulin_height数组
             ulin[i].style.height = 0 ;
        }
    
        

        var num = 0;
        // cd1.onclick = function () {
        //     event.stopPropagation();
        //     if (num % 2 == 1) {
        //         ulin[0].style.height = 0 + "px";
        //         ulin[1].style.zIndex = 2;
        //     } else if (num % 2 == 0) {
        //         ulin[0].style.height = ulin_height[0] + "px";
        //     }
        //     num++;
        // }
       function cd1click(event){
        event.stopPropagation();
            if (num % 2 == 1) {
                ulin[0].style.height = 0 + "px";
                ulin[1].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[0].style.height = ulin_height[0] + "px";
            }
            num++;
       }
       cd1.addEventListener('click',cd1click,false);
       ulout.onclick = function(){
        ulin[0].style.height = 0 + "px";
       }

        cd2.onclick = function () {
            if (num % 2 == 1) {
                ulin[1].style.height = 0 + "px";
                ulin[2].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[1].style.height = ulin_height[1] + "px";
            }
            num++;
        }
        cd3.onclick = function () {
            if (num % 2 == 1) {
                ulin[2].style.height = 0 + "px";
                ulin[3].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[2].style.height = ulin_height[2] + "px";
            }
            num++;
        }
        cd4.onclick = function () {
            if (num % 2 == 1) {
                ulin[3].style.height = 0 + "px";
                ulin[4].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[3].style.height = ulin_height[3] + "px";
            }
            num++;
        }
        cd5.onclick = function () {
            if (num % 2 == 1) {
                ulin[4].style.height = 0 + "px";
                ulin[5].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[4].style.height = ulin_height[4] + "px";
            }
            num++;
        }
        cd6.onclick = function () {
            if (num % 2 == 1) {
                ulin[5].style.height = 0 + "px";
                ulin[6].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[5].style.height = ulin_height[5] + "px";
            }
            num++;
        }
        cd7.onclick = function () {
            if (num % 2 == 1) {
                ulin[6].style.height = 0 + "px";
                ulin[7].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[6].style.height = ulin_height[6] + "px";
            }
            num++;
        }
        cd8.onclick = function () {
            if (num % 2 == 1) {
                ulin[7].style.height = 0 + "px";
                ulin[8].style.zIndex = 2;
            } else if (num % 2 == 0) {
                ulin[7].style.height = ulin_height[7] + "px";
            }
            num++;
        }




    </script>
</body>

</html>